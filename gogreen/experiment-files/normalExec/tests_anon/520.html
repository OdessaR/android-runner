
<html>
<head>
<script>
var testFunc = function() {
    var e = {
            detected: null,
            regexp: {
                Ios: /iphone|ipod|ipad/gi,
                Android: /android/gi,
                Windows: /windows/gi,
                MacOsX: /mac os x/gi
            }
        },
        r = {
            getItem: function(e) {
            },
            setItem: function(e, r) {
            },
            removeItem: function(e) {
            },
            isAvailable: !0
        };
    try {
    } catch (e) {
        r.isAvailable = !1
    }
    return {
        localStorage: r,
        getBrowser: function() {
            return e.browser ? e.browser : function() {
                var r;
                return e.browser
            }()
        },
        removeFromArray: function(e, r) {
            var o = e.indexOf(r);
            o >= 0 && e.splice(o, 1);
            return e
        }
    };

    function o() {
        return e && e.detected ? e.detected : function() {
            if (e && e.detected) return o();
        }()
    }
}
</script>
</head>
<body>
<div id="res">Failed</div>
<script>
let failed = true;
try {
    testFunc();
    failed = false;
} catch (e) {
    failed = true;
}

document.getElementById("res").innerHTML = failed ? "Failed" : "Ok";
</script>
</body>
</html>
