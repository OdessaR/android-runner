
<html>
<head>
<script>
var testFunc = function() {
    const $topnav = $blackbar.querySelector('.navbar-nav');
    const $navbar_items = Array.prototype.slice.call($topnav.querySelectorAll('a'), 0);
    if ($navbar_items.length > 0) {
        $navbar_items.forEach((el) => {
            const $href = el.getAttribute('href');
            if ($currentpage.includes($href)) {
                if (el.parentElement.parentElement.classList.contains('navbar-nav')) {
                    el.classList.add('is-active-page');
                } else if (el.parentElement.parentElement.parentElement.parentElement.classList.contains('navbar-nav')) {
                    el.parentElement.parentElement.previousElementSibling.classList.add('is-active-page');
                } else if (el.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.classList.contains('navbar-nav')) {
                    el.parentElement.parentElement.parentElement.parentElement.previousElementSibling.classList.add('is-active-page');

                }
            }
        })
    }
}
</script>
</head>
<body>
<div id="res">Failed</div>
<script>
let failed = true;
try {
    testFunc();
    failed = false;
} catch (e) {
    failed = true;
}

document.getElementById("res").innerHTML = failed ? "Failed" : "Ok";
</script>
</body>
</html>
