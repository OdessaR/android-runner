
<html>
<head>
<script>
var testFunc = function() {
    $('#overlay').hide();
    $('#overlay').height($(document).height());
    $('#overlay').width($(document).width());
    $(window).bind('resize', function() {
        $('#overlay').height($(document).height());
        $('#overlay').width($(document).width());
    });
});

function showOverlay() {
    $('#overlay').show();
    $('#overlay').fadeTo("normal", 0.6, function() {
        $('#gravatar_confirmation_container').fadeIn("fast");
    });
}

function hideOverlay() {
    $('#gravatar_confirmation_container').fadeOut(
        "normal",
        function() {
            $('#overlay').fadeTo("fast", 0, function() {
                $('#overlay').hide(0, function() {
                    $('#overlay').height($(document).height());
                    $('#overlay').width($(document).width());
                });
            });
            $('#gravatar_list > div > div > div.pending').each(function(e) {
                $(this).removeClass('pending');
            });
        }
    );
}
</script>
</head>
<body>
<div id="res">Failed</div>
<script>
let failed = true;
try {
    testFunc();
    failed = false;
} catch (e) {
    failed = true;
}

document.getElementById("res").innerHTML = failed ? "Failed" : "Ok";
</script>
</body>
</html>
