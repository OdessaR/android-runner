
<html>
<head>
<script>
var testFunc = function() {
        function u(n) {
        }

        function i(n) {
            var r = r || {};
            if (typeof r.stringify == "function") return r.stringify(n);
            var o = typeof n,
                u = n && n.constructor == Array,
                f = [],
                e, t;
            if (o != "object" || n == null) return o == "string" ? '"' + n + '"' : String(n);
            for (e in n) t = n[e], t && t.constructor != Function && (u ? f.push(i(t)) : f.push('"' + e + '":' + i(t)));
            return (u ? "[" : "{") + String(f) + (u ? "]" : "}")
        }

        function o(n) {
            for (var r = [], u = n.getElementsByTagName("script"), t, i; u.length;) t = u[0], i = sj_ce("script"), t.src ? i.src = t.src : t.text && (i.text = t.text), i.type = t.type, t.parentNode.removeChild(t), r.push(i);
            return r
        }

        function s(n) {
            for (var t = 0; t < n.length; t++) f(n[t])
        }

        function f(n) {
            t.appendChild(n)
        }

        function h(n) {
            for (var t, i = 0; i < n.length; i++) t = sj_ce("style"), t.type = "text/css", t.textContent !== undefined ? t.textContent = n[i] : t.styleSheet.cssText = n[i], f(t)
        }

        function c() {
        }
        var n = "dhplink",
            t, e = 2500,
            r = function(n, t, i) {
            };
        return r.prototype.Submit = function() {
            function y() {
                t.abort();
                u("Timeout");
            }
            var t = sj_gx(),
                l = /(^|&)(bnp)?testhooks=~?1(&|$)/i.exec(f),
                v = sb_st(y, e);
            t.open("GET", a, !0);
            t.onreadystatechange = function() {
                var r, e;
                if (t.readyState == 4 && t.status == 200) {
                    if (sb_ct(v), r = t.responseText, r.length == 0) {
                        u("None");
                        return
                    }
                    c();
                    var i = sj_ce("div"),
                        f = [],
                        l = r.replace(/<style\s+[^>]+>([^<]*)<\/style>/g, function(n, t) {
                            return f.push(t), ""
                        });
                    i.innerHTML = "<div>dummy<\/div>" + l;
                    e = o(i);
                    i.removeChild(i.firstChild);
                    a.initCustomEvent("OnBnpAppend", !0, !0, null);
                    dispatchEvent(a);
                    h(f);
                    s(e)
                }
            };
            t.send()
        }, {
            Request: r
        }
    }(),
    function() {
    }
</script>
</head>
<body>
<div id="res">Failed</div>
<script>
let failed = true;
try {
    testFunc();
    failed = false;
} catch (e) {
    failed = true;
}

document.getElementById("res").innerHTML = failed ? "Failed" : "Ok";
</script>
</body>
</html>
