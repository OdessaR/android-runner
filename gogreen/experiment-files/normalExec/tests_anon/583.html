
<html>
<head>
<script>
var testFunc = function() {
        if ($(self).attr('aria-expanded') == 'false') {
            openTierTwo = setTimeout(function() {
                $(self).trigger('click');
            }, delay);
        }
    }, function() {
        clearTimeout(openTierTwo);
    });
    $('.tier-four').each(function() {
        var tierFourCount = $(this).find('li').length;
        if (tierFourCount > 8) {
            $(this).addClass('columned')
        }
    });
    var isMobile = false;
    var tierThree = function(e) {
        var hasChild = ($(this).find('.tier-four').length > 0) ? true : false;
        var tierFourHeight = $(this).find('.tier-four').outerHeight() + 64;
        if (hasChild) {
            $(this).parent().css('min-height', tierFourHeight);
            $('.tier-three li').removeClass('open');
            $(this).addClass('open');
            $('.tier-four').removeClass('visible');
            $(this).children().addClass('visible');
        }
        e.stopPropagation();
        return;
    };
    if (isMobile === false) {
        $('.tier-three .left > li').on('mouseenter', tierThree);
        $('.nav-subnav .dropdown').on('click', function() {
            $(this).on('shown.bs.dropdown', function() {
                $(tierThreeLi).trigger('mouseenter');
            });
            var tierThreeLi = $(this).find('.tier-three .left > li:first-child');
            $(this).find('.tier-three .left > li').removeClass('open');
            $(this).find(tierThreeLi).addClass('open');
            $(tierThreeLi).find('.tier-four').addClass('visible');
        });
    } else {
        $('.nav-subnav .dropdown-menu').on("hide.bs.dropdown", function(e) {
            stopPropagation();
        });
        $('.nav-subnav ul.nav > .dropdown').on('shown.bs.dropdown', function() {
            var tierThreeLi = $(this).find('.tier-three .left > li:first-child');
            $(this).find('.tier-three .left > li').removeClass('open');
            $(tierThreeLi).find('.tier-four').addClass('visible');
            $(this).find(tierThreeLi).addClass('open');
            if ($(window).width() < 769) {
                $('.tier-four').width(487);
                $('.nav-sticky .tier-four').width(380);
            } else {
                $('.tier-four').width(637);
                $('.nav-sticky .tier-four').width(440);
                $('.nav-sticky .tier-four li').addClass('word-break');
            }
            $('.tier-three .left > li').on('click', tierThree);
            $(tierThreeLi).trigger('click');
        })
    }
</script>
</head>
<body>
<div id="res">Failed</div>
<script>
let failed = true;
try {
    testFunc();
    failed = false;
} catch (e) {
    failed = true;
}

document.getElementById("res").innerHTML = failed ? "Failed" : "Ok";
</script>
</body>
</html>
