
<html>
<head>
<script>
var testFunc = function() {
                var $popup = $(this);
                var $popupSource = $popup.popup('source');

                if ($popupSource && $popupSource.length > 0) {
                    var popupSource = $popupSource[0];

                    if (popupSource === target || $.contains(popupSource, target)) {
                        return;
                    }
                }

                $popup.popup('close');
            }
</script>
</head>
<body>
<div id="res">Failed</div>
<script>
let failed = true;
try {
    testFunc();
    failed = false;
} catch (e) {
    failed = true;
}

document.getElementById("res").innerHTML = failed ? "Failed" : "Ok";
</script>
</body>
</html>
