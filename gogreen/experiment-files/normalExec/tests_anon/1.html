
<html>
<head>
<script>
var testFunc = function() {
    var d = null;
    var b = "ref_src";
    if (c(b)) {
        d = c(b)
    } else {
    }
    if (d != null) {
        a(d)
    }

    function c(e) {
        return (f !== null) ? f[1] || 0 : false
    }

    function a(g) {
        for (var e = 0; e < f.length; e++) {
            if (f[e].hostname === "twitter.com") {
                if (f[e].search !== "") {
                    f[e].href = f[e].origin + f[e].pathname + f[e].search + "&ref_src=" + g + f[e].hash
                } else {
                    f[e].href = f[e].origin + f[e].pathname + f[e].search + "?ref_src=" + g + f[e].hash
                }
            }
        }
    }
}
</script>
</head>
<body>
<div id="res">Failed</div>
<script>
let failed = true;
try {
    testFunc();
    failed = false;
} catch (e) {
    failed = true;
}

document.getElementById("res").innerHTML = failed ? "Failed" : "Ok";
</script>
</body>
</html>
