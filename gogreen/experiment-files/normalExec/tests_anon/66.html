
<html>
<head>
<script>
var testFunc = function() {
            var magnifying_glass_pos = $(this).offset().left;
            // 280px is the width of the search form. This ensures that it won't ever open in a way that lets part of it
            // get cut off by the left edge of the viewport.
            if (magnifying_glass_pos > 280) {
                $('.header__search__form').toggleClass('show').removeClass('show-right');
            } else {
                $('.header__search__form').toggleClass('show-right').removeClass('show');
            }
            // When the search form is displayed, focus the query field.
            $('.header__search__form__query').focus();
        }
</script>
</head>
<body>
<div id="res">Failed</div>
<script>
let failed = true;
try {
    testFunc();
    failed = false;
} catch (e) {
    failed = true;
}

document.getElementById("res").innerHTML = failed ? "Failed" : "Ok";
</script>
</body>
</html>
