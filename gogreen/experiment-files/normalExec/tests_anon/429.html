
<html>
<head>
<script>
var testFunc = function() {
            }, function() {
                return webrtc_widget.request_operator(name);
            }, function(res) {
                if (!res)
                // wait max 5s before operator calls back
                var et = etask.wait(5000);
                onopen_w.then(et.continue_fn());
                return et;
            }, function() {
                onclose_w.then(w.continue_fn());
                return w;
            }, function catch$(e) {
                www_util.perr({
                    id: 'www_video_chat_err',
                    info: {
                        test: test,
                        err: e,
                        msg: 'request_operator'
                    }
                });
            }, function finally$() {
                w.return();
            }
</script>
</head>
<body>
<div id="res">Failed</div>
<script>
let failed = true;
try {
    testFunc();
    failed = false;
} catch (e) {
    failed = true;
}

document.getElementById("res").innerHTML = failed ? "Failed" : "Ok";
</script>
</body>
</html>
