
<html>
<head>
<script>
var testFunc = function() {
        if (typeof $(this).slick != 'function') {
            return false;
        }

        $(this).slick({
            autoplay: (parseInt($(this).data('autoplay')) > 0) ? true : false,
            autoplaySpeed: $(this).data('autoplay'),
            infinite: true,
            refresh: true,
            responsive: [{
                    breakpoint: 986,
                    settings: {
                        slidesToShow: 2,
                        slidesToScroll: 1
                    }
                },
                {
                    breakpoint: 787,
                    settings: {
                        slidesToShow: 1,
                        slidesToScroll: 1
                    }
                }
            ],
            slide: 'div',
            slidesToShow: parseInt($(this).data('items')),
            slidesToScroll: parseInt($(this).data('items-to-scroll')),
            variableWidth: true
        });

        $(this).on('setPosition', function(e, slider) {
            var carousel_width = parseInt(slider.$slider.css('width'));
            var carousel_visible_items = slider.options.slidesToShow;
            var gutter_width = parseInt(slider.$slider.find('.slick-slide.slick-active:first').css('margin-left'));
            var item_width_adjusted = parseInt((carousel_width - parseInt(gutter_width * (carousel_visible_items - 1))) / carousel_visible_items);

            slider.$slider.find('.slick-slide').each(function() {
                $(this).css('width', item_width_adjusted + 'px');
            });
        });
    });

    $('.expandable-more-link').click(function(e) {
        e.preventDefault();

        if (typeof $(this).data('alt-title') != 'undefined') {
            var temp = $(this).html();
            $(this).html($(this).data('alt-title'));
            $(this).data('alt-title', temp);
        }

        $(this).toggleClass('expandable-more-link-open').toggleClass('expandable-more-link-closed');

        var target = '.' + $(this).data('expand-target-element');
        $(target).slideToggle('fast');

        // Close all other open elements
        $('.expandable-target-open').not(target).each(function(e) {
            $(this).slideUp('fast');
            $(this).toggleClass('expandable-target-open').toggleClass('hidden-content');
        });

        $(target).toggleClass('expandable-target-open').toggleClass('hidden-content');
        //scroll to anchor
        if ($(this).attr('href') !== undefined) {
            //console.log( $(this).attr('href') );
            //document.location = $(target).href;		
        }

    });



    $('#cuny-hamburger-menu-icon').on('click', function(e) {
        if ($('#cuny-hamburger-menu-overlay').length == 0) {
            var content_class = $('#cuny-hamburger-menu-content').attr('class');
            $('#cuny-hamburger-menu-content').toggleClass(content_class);
            $('body').append('<div id="cuny-hamburger-menu-overlay" class="close"></div>');
            $('#cuny-hamburger-menu-overlay').append($('#cuny-hamburger-menu-content')).toggleClass(content_class);
            $('#cuny-hamburger-menu-content').show();
        }

        $('#cuny-hamburger-menu-overlay').toggleClass('open').toggleClass('close');
        $(this).toggleClass('open');
    });

    $('#cuny-hamburger-menu-overlay').on('click', function(e) {
        $(this).toggleClass('open');
    }
</script>
</head>
<body>
<div id="res">Failed</div>
<script>
let failed = true;
try {
    testFunc();
    failed = false;
} catch (e) {
    failed = true;
}

document.getElementById("res").innerHTML = failed ? "Failed" : "Ok";
</script>
</body>
</html>
