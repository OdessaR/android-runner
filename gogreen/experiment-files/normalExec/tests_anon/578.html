
<html>
<head>
<script>
var testFunc = function() {
                var target = $('.nav-subnav .' + $(self).data('subnav'));
                $('.nav-subnav--global nav.navbar').hide();
                $('.nav-main .navbar-nav > li > a').removeClass('open');
                if ($(self).parent().hasClass('active') === false) {
                    $(self).addClass('open');
                };
                globalSubnav.show();
                target.show();
            }, delay);
        } else {
            noAnchor = setTimeout(function() {
                $('.nav-subnav--global').hide();
                $('.nav-subnav--global nav.navbar').hide();
                $('.nav-subnav .tier-two > li > a[aria-expanded="true"]').trigger('click');
                $('.nav-main .navbar-nav > li > a').removeClass('open');
                openCurrent();
            }
</script>
</head>
<body>
<div id="res">Failed</div>
<script>
let failed = true;
try {
    testFunc();
    failed = false;
} catch (e) {
    failed = true;
}

document.getElementById("res").innerHTML = failed ? "Failed" : "Ok";
</script>
</body>
</html>
