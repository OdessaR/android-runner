
<html>
<head>
<script>
var testFunc = function() {
    var $ddcPlugin = $('#ddc_widget_wrap'),
        mobileModeWidth = 816;

    if (!$ddcPlugin.length) {
        return;
    }

    var ddcPluginCheck = function() {
        var windowWidth = $(window).width();

        // When on a small window, move the widget to after the articles
        // and add an id as a reference on the original sidebar container.
        // Check if we're not a small screen and the plugin is not on the right place already
        if (windowWidth < mobileModeWidth && !$ddcPlugin.parent().hasClass('main')) {
            // set id on original sidebar container
            $ddcPlugin.parent().prop('id', 'ddc-module');
            $ddcPlugin.appendTo('.main');
        } else if (windowWidth >= mobileModeWidth && !$ddcPlugin.parent().hasClass('module')) {
            $ddcPlugin.appendTo('#ddc-module');
        }
    };


    $('window').trigger('resize');
}
</script>
</head>
<body>
<div id="res">Failed</div>
<script>
let failed = true;
try {
    testFunc();
    failed = false;
} catch (e) {
    failed = true;
}

document.getElementById("res").innerHTML = failed ? "Failed" : "Ok";
</script>
</body>
</html>
